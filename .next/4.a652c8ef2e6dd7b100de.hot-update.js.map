{"version":3,"sources":["webpack:///./components/SearchPrimary.js?172a"],"names":["SearchPrimary","props","onSavedSearchClick","dispatch","toggleSavedSearch","savedSearch","onSubmit","e","preventDefault","handleSubmit","state","predictiveInput","debouncedSearch","event","persist","updateSearchTerm","target","value","predictiveOutput","setState","toLowerCase","indexOf","currentLength","length","toString","substring","_","debounce","searchTerm","searchDropdown","searchInput","focus","input","onHandleInputChange","mapStateToProps","search","savedSearchToggle","propTypes","PropTypes","func","isRequired","connect"],"mappings":"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","file":"4.a652c8ef2e6dd7b100de.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { debounce } from 'lodash';\n\nimport SearchDropdown from './SearchDropdown';\n \nimport { updateSearchTerm, toggleSavedSearch } from '../actions/search';\n\nclass SearchPrimary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      predictiveInput: '',\n      debouncedSearch: '',\n    };\n  }\n\n  onHandleInputChange(event){\n    event.persist();\n    this.props.dispatch(updateSearchTerm(event.target.value));\n    this.props.dispatch(toggleSavedSearch(false));\n\n    // Predictive Search\n    // XX: Insert predictive search output based on queried results ~\n    let predictiveOutput = \"Elantra\";\n    if(event.target.value === \"\") {\n      this.setState({predictiveInput: \"\"});\n    } else if (predictiveOutput.toLowerCase().indexOf(event.target.value.toLowerCase()) === 0){\n      let currentLength = event.target.value.length;\n      this.setState({predictiveInput: event.target.value.toString() + predictiveOutput.substring(currentLength)});\n    } else {\n      // XX: Invoke another call for new query data here.\n      this.setState({predictiveInput: \"\"});\n    }\n\n    // Debounces every 0.5 second to prevent flooding of API request\n    _.debounce((event)=> {\n      this.setState({debouncedSearch: this.props.searchTerm});\n    }, 500)(event);\n  };\n\n  onSavedSearchClick = () => {\n    this.props.dispatch(toggleSavedSearch(!this.props.savedSearch));\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.handleSubmit();\n  }\n\n  render() {\n    let searchDropdown;\n    // Search Dropdown is visible when either:\n    // (1) Saved Search option is toggled on, or\n    // (2) There is sufficient data from both regular and debounced search inputs.\n    // XX: May need additional logics here to render search results ~\n    if(this.props.savedSearch || this.state.debouncedSearch && this.state.debouncedSearch.length > 1 && this.props.searchTerm.length) {\n      searchDropdown = <SearchDropdown />\n    };\n\n    return(\n      <div className=\"container\">\n        <form \n          onSubmit={(e)=>this.onSubmit(e)} htmlFor=\"search\"\n          >\n          <div className=\"input-wrapper\" onClick={()=>this.searchInput.focus()}>\n            <div className=\"input-inner-wrapper\">\n              {/* XX: Temporary use of Search Icon ~*/}\n              <img src=\"https://www.picpng.com/images/small/magnifying-glass-search-loupe-image-download-49863\" \n                className=\"search-icon magnifying-glass\"/>\n              \n              <div id=\"search-div\">\n                {/* First Input is to render grey, predictive texts */}\n                <input \n                  type=\"text\"\n                  id=\"background-input\"\n                  value={this.state.predictiveInput}\n                />\n                {/* Second Input is the standard text that users could read and type in */}\n                <input \n                  type=\"text\"\n                  id=\"search\"\n                  autoComplete=\"off\"\n                  ref={(input) => {this.searchInput = input}}\n                  placeholder=\"Search by vehicle, topic, keyword or content title...\"\n                  onChange={(event)=>this.onHandleInputChange(event)}\n                  value={this.props.searchTerm}\n                />\n                {/* Third Input (hidden) is to allow form submittal with Enter keydown  */}\n                <input\n                  type=\"submit\"\n                  value={this.props.searchTerm}\n                  hidden\n                />\n              </div>\n\n              {/* XX: Temporary magnifying glass icon */}\n              <div className=\"mobile-search-btn-wrapper\">\n                <img src=\"https://www.picpng.com/images/small/magnifying-glass-search-loupe-image-download-49863\" \n                  className=\"mobile-search-button magnifying-glass\"/>\n              </div>\n            </div>\n\n            <p onClick={()=>this.onSavedSearchClick()} className=\"saved-searches\">Saved Searches</p>\n          </div>\n\n        </form>\n\n        {searchDropdown}\n\n\n        <style jsx>{`\n          .container {\n            max-width: 606px;\n            width: 100%;\n          }\n          .magnifying-glass {\n            max-width: 24px;\n            max-height: 14px;\n            width: auto;\n            height: auto;\n            margin: 0 16px;\n            display: none;\n          }\n          form {\n            display: flex;\n          }\n          .input-wrapper {\n            flex: 1 80%;\n            display: flex;\n            flex-flow: row nowrap;\n            align-items: center;\n            justify-content: space-between;\n            height: 64px;\n            max-width: 600px;\n            background: white;\n            border-radius: 4px;\n          }\n          .input-inner-wrapper {\n            display: flex;\n            flex: 1;\n            align-items: center;\n          }\n\n          #search-div {\n            position: relative;\n            width: 100%;\n          }\n          #background-input {\n            position: absolute;\n            width: 100%;\n            color: rgb(171, 171, 171);\n\n          }\n          #search {\n            position: relative;\n            background: transparent;\n            width: 100%;\n          }\n\n          input {\n            flex: 1;\n            border: none;\n            outline: none;\n            font-size: 1em;\n            color: black;\n            //XX: total of 48px for left-padding\n            padding: 0 0 0 16px;\n          }\n          ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n            color: rgb(171, 171, 171);\n            opacity: 1; /* Firefox */\n          }\n          :-ms-input-placeholder { /* Internet Explorer 10-11 */\n              color: rgb(171, 171, 171);\n          }\n          ::-ms-input-placeholder { /* Microsoft Edge */\n              color: rgb(171, 171, 171);\n          }\n          .saved-searches {\n            display: none;\n            position: relative;\n          }\n          .mobile-search-button {\n            display: flex;\n            margin-right: 8px;\n            \n          }\n          .mobile-search-btn-wrapper {\n            display: flex;\n            height: 40px;\n            align-items: center;\n            -webkit-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            -moz-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n          }\n          @media all and (min-width: 376px) {\n            .search-icon {\n              display: flex;\n              margin: 0 12px;\n            }\n            input {\n              padding: 0;\n            }\n            .mobile-search-button {\n              display: none;\n            }\n            .saved-searches {\n              display: flex;\n              color: rgb(64 102 149);\n              margin-right: 24px;\n              padding: 5px;\n              min-width: 61px;\n              border-bottom: 1px solid rgb(64 102 149);\n              font: 600 0.938em system-ui;\n              -webkit-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              -moz-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              cursor: pointer;\n            }\n            .input-wrapper {\n              margin-right: 32px;\n            }\n          }\n        `}\n        </style>\n      </div>      \n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  searchTerm: state.search.searchTerm,\n  savedSearch: state.search.savedSearchToggle,\n})\n\nSearchPrimary.propTypes = {\n  handleSubmit: PropTypes.func.isRequired, // Function to invoke Enter keydown (should be same as Primary Button);\n};\n\nexport default connect(mapStateToProps)(SearchPrimary);\n\n\n// WEBPACK FOOTER //\n// ./components/SearchPrimary.js"],"sourceRoot":""}