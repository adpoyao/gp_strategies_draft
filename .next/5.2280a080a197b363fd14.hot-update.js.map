{"version":3,"sources":["webpack:///./components/SearchSecondary.js?fc81"],"names":["SearchSecondary","props","state","findWidth","undefined","getWidthOfInput","inputEl","document","getElementById","tmp","window","createElement","className","innerHTML","value","replace","body","appendChild","theWidth","getBoundingClientRect","width","removeChild","e","preventDefault","event","str","target","console","log","dispatch","updateSearchTerm","query","array","length","toString","split","join","compiledQuery","searchTerm","compiledFilter","toIsFilter","filteredStatus","filteredContentType","toInFilter","filteredTopic","customInputWidth","customInputDisplay","trim","placeholder","apostrophe","onSubmit","searchInput","focus","input","onHandleInputChange","mapStateToProps","search","connect"],"mappings":"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","file":"5.2280a080a197b363fd14.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { debounce } from 'lodash';\n\nimport { updateSearchTerm } from '../actions/search';\n\nclass SearchSecondary extends Component {\n  constructor(props) {\n    super(props)\n    \n    this.state = {\n      findWidth: undefined\n    }\n  }\n\n  componentDidMount(){\n    this.state.findWidth = function getWidthOfInput() {\n      let inputEl = document.getElementById(\"search-input\");\n      let tmp = window.document.createElement(\"span\");\n      tmp.className = \"input-element tmp-element\";\n      tmp.innerHTML = inputEl.value.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n      window.document.body.appendChild(tmp);\n      let theWidth = tmp.getBoundingClientRect().width;\n      window.document.body.removeChild(tmp);\n      return theWidth;\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  onHandleInputChange(event){\n    let str = event.target.value;\n    str.replace(/\"/g,\"\");\n    console.log('STR', str);\n    this.props.dispatch(updateSearchTerm(event.target.value));\n  };\n\n  toString(query){\n    if(query){\n      return `\\\"${query}\\\"`\n    } else {\n      return '';\n    }\n  };\n\n  toIsFilter(array){\n    if(array && array.length > 0){\n      return `is: (${array.toString().split(\",\").join(\", \")})`\n    } else {\n      return '';\n    };\n  };\n\n  toInFilter(array){\n    if(array && array.length > 0){\n      return `in: (${array.toString().split(\",\").join(\", \")})`\n    } else {\n      return '';\n    };\n  };\n\n  render() {\n\n    let compiledQuery = this.toString(this.props.searchTerm);\n    let compiledFilter = this.toIsFilter(this.props.filteredStatus) + \" \" + this.toIsFilter(this.props.filteredContentType) + \" \" + this.toInFilter(this.props.filteredTopic);\n    compiledFilter = compiledFilter.split(\"  \").join(\" \");\n\n\n    let customInputWidth, customInputDisplay;\n    if(!this.props.searchTerm.length) {\n      customInputWidth = !compiledFilter.trim() ? \"360px\" : \"0\"\n    } else {\n      // if(this.state.findWidth){\n        // customInputWidth=this.state.findWidth() + 8 + 'px'};\n      customInputWidth = ((this.props.searchTerm.length + 1) * 8) + 'px';\n    };\n\n    if(!compiledFilter.trim()){\n      customInputDisplay = \"none\";\n    }\n\n    let placeholder, apostrophe;\n    if(!this.props.searchTerm && !compiledFilter.trim()){\n      placeholder = \"Search by vehicle, topic, keyword or content title...\";\n    } else if (this.props.searchTerm){\n      apostrophe =\"\\\"\";\n    };\n\n    return(\n      <div className=\"container\">\n        <form onSubmit={(e)=>this.onSubmit(e)}>\n          <div onClick={()=>this.searchInput.focus()} className=\"input-wrapper\">\n            \n            <div className=\"input-inner-wrapper\">\n              {/* Temporary use of Search Icon */}\n              <img src=\"https://www.picpng.com/images/small/magnifying-glass-search-loupe-image-download-49863\" \n                className=\"search-icon magnifying-glass\"/>\n              \n              {/* {apostrophe} */}\n              {/* First Input is the standard text that users could read and type in */}\n              <div className=\"search-input-wrapper\">\n                <input \n                  text=\"text\"\n                  id=\"search-input\"\n                  name=\"searchInput\"\n                  autoComplete=\"off\"\n                  className=\"search-input\"\n                  ref={(input) => {this.searchInput = input}}\n                  placeholder= {placeholder}\n                  onChange={(event)=>this.onHandleInputChange(event)}\n                  value={compiledQuery}\n                />\n              </div>\n              {/* {apostrophe} */}\n\n              <div className=\"filter-input\">{compiledFilter}</div>\n                \n            </div>\n\n            <p onClick={(e)=>this.onSubmit(e)} className=\"save-search\">Save</p>\n          </div>\n\n        </form>\n\n        {/* STYLING */}\n        <style jsx>{`\n          .container {\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            margin: 16px 0;\n          }\n          .magnifying-glass {\n            max-width: 24px;\n            max-height: 14px;\n            width: auto;\n            height: auto;\n            margin: 0 16px;\n            display: none;\n          }\n          form {\n            display: flex;\n            flex: 1 auto;\n          }\n          .input-wrapper {\n            flex: 1 80%;\n            display: flex;\n            flex-flow: row nowrap;\n            align-items: center;\n            justify-content: space-between;\n            height: 64px;\n            max-width: 600px;\n            background: white;\n            border-radius: 4px;\n            -webkit-box-shadow: 0px 10px 20px 4px rgba(0,0,0,0.15);\n            -moz-box-shadow: 0px 10px 20px 4px rgba(0,0,0,0.15);\n            box-shadow: 0px 10px 20px 4px rgba(0,0,0,0.15);\n          }\n          .input-inner-wrapper {\n            display: flex;\n            // flex: 1;\n            align-items: center;\n          }\n          .search-icon {\n            display: flex;\n            margin: 0 12px;\n          }\n          .search-input {\n            width: ${customInputWidth}\n          }\n          .filter-input {\n            display: ${customInputDisplay}\n          }\n          input {\n            // flex: 1;\n            padding: 0;\n            border: none;\n            outline: none;\n            font-size: 1em;\n            color: black;\n          }\n          .save-search {\n            position: relative;\n            display: flex;\n            color: rgb(64 102 149);\n            margin-right: 24px;\n            padding-bottom: 4px;\n            min-width: 32px;\n            border-bottom: 1px solid rgb(64 102 149);\n            font: 600 0.875em system-ui;\n            -webkit-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            -moz-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              cursor: pointer;\n          }\n          @media all and (min-width: 376px) {\n\n            }\n          }\n        `}\n        </style>\n      </div>      \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  let { searchTerm, filteredStatus, filteredContentType, filteredTopic } = state.search;\n  return ({\n  searchTerm,\n  filteredStatus,\n  filteredContentType,\n  filteredTopic,\n  filteredStatus,\n  });\n}\n\nexport default connect(mapStateToProps)(SearchSecondary);\n\n\n// WEBPACK FOOTER //\n// ./components/SearchSecondary.js"],"sourceRoot":""}