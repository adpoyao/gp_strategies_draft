{"version":3,"sources":["webpack:///./components/SearchPrimary.js?172a"],"names":["SearchPrimary","props","onSavedSearchClick","dispatch","toggleSavedSearch","savedSearch","onSubmit","e","preventDefault","console","log","state","name","predictiveInput","debouncedSearch","event","persist","setState","target","value","updateSearchTerm","predictiveOutput","toLowerCase","indexOf","currentLength","length","toString","substring","_","debounce","searchTerm","searchDropdown","onHandleInputChange","mapStateToProps","search","savedSearchToggle","connect"],"mappings":"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","file":"4.995e90864e409ac64381.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { connect } from 'react-redux';\nimport { debounce } from 'lodash';\n\nimport SearchDropdown from './SearchDropdown';\n \nimport { updateSearchTerm, toggleSavedSearch } from '../actions/search';\n\nclass SearchPrimary extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { \n      name: '', //\n      predictiveInput: '',\n      debouncedSearch: '',\n    };\n  }\n\n  onHandleInputChange(event){\n    event.persist();\n    this.setState({name: event.target.value}); //\n    this.props.dispatch(updateSearchTerm(event.target.value));\n    this.props.dispatch(toggleSavedSearch(false));\n\n    // Predictive Search\n    // XX: Insert predictive search output ~\n    let predictiveOutput = \"Elantra\";\n    if(event.target.value === \"\") {\n      this.setState({predictiveInput: \"\"});\n    } else if (predictiveOutput.toLowerCase().indexOf(event.target.value.toLowerCase()) === 0){\n      let currentLength = event.target.value.length;\n      this.setState({predictiveInput: event.target.value.toString() + predictiveOutput.substring(currentLength)});\n    } else {\n      // XX: Invoke another call for new query data here.\n      this.setState({predictiveInput: \"\"});\n    }\n\n    // Debounces every 0.5 second to prevent flooding of API request\n    _.debounce((event)=> {\n      this.setState({debouncedSearch: this.props.searchTerm});\n    }, 500)(event);\n  };\n\n  onSavedSearchClick = () => {\n    this.props.dispatch(toggleSavedSearch(!this.props.savedSearch));\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    console.log('abc')\n    // this.props.handleSubmit();\n  }\n\n  render() {\n    let searchDropdown;\n    if(this.props.savedSearch || this.state.debouncedSearch && this.state.debouncedSearch.length > 1 && this.props.searchTerm > 0){\n      searchDropdown = <SearchDropdown searchTerm={this.state.debouncedSearch} \n      /> //\n    };\n\n    return(\n      <div className=\"container\">\n        <form \n          onSubmit={(e)=>this.onSubmit(e)} htmlFor=\"search\"\n          >\n          <div className=\"input-wrapper\">\n            <div className=\"input-inner-wrapper\">\n              {/* Temporary use of Search Icon */}\n              <img src=\"https://www.picpng.com/images/small/magnifying-glass-search-loupe-image-download-49863\" \n                className=\"search-icon magnifying-glass\"/>\n              \n              <div id=\"search-div\">\n                <input \n                  type=\"text\"\n                  id=\"background-input\"\n                  // onChange={(event)=>this.onHandleInputChange(event)}\n                  value={this.state.predictiveInput}\n                />\n                <input \n                  type=\"text\"\n                  id=\"search\"\n                  placeholder=\"Search by vehicle, topic, keyword or content title...\"\n                  onChange={(event)=>this.onHandleInputChange(event)}\n                  value={this.props.searchTerm} //HERE\n                />\n              </div>\n\n              <div className=\"mobile-search-btn-wrapper\">\n                <img src=\"https://www.picpng.com/images/small/magnifying-glass-search-loupe-image-download-49863\" \n                  className=\"mobile-search-button magnifying-glass\"/>\n              </div>\n            </div>\n\n            <p onClick={()=>this.onSavedSearchClick()} className=\"saved-searches\">Saved Searches</p>\n          </div>\n\n        </form>\n\n        {searchDropdown}\n\n        {/* STYLING */}\n        <style jsx>{`\n          .container {\n            max-width: 606px;\n            width: 100%;\n          }\n          .magnifying-glass {\n            max-width: 24px;\n            max-height: 14px;\n            width: auto;\n            height: auto;\n            margin: 0 16px;\n            display: none;\n          }\n          form {\n            display: flex;\n          }\n          .input-wrapper {\n            flex: 1 80%;\n            display: flex;\n            flex-flow: row nowrap;\n            align-items: center;\n            justify-content: space-between;\n            height: 64px;\n            max-width: 600px;\n            background: white;\n            border-radius: 4px;\n          }\n          .input-inner-wrapper {\n            display: flex;\n            flex: 1;\n            align-items: center;\n          }\n\n          #search-div {\n            position: relative;\n            width: 100%;\n          }\n          #background-input {\n            position: absolute;\n            width: 100%;\n            color: rgb(171, 171, 171);\n\n          }\n          #search {\n            position: relative;\n            background: transparent;\n            width: 100%;\n          }\n\n          input {\n            flex: 1;\n            border: none;\n            outline: none;\n            font-size: 1em;\n            color: black;\n            //XX: total of 48px for left-padding\n            padding: 0 0 0 16px;\n          }\n          ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n            color: rgb(171, 171, 171);\n            opacity: 1; /* Firefox */\n          }\n          :-ms-input-placeholder { /* Internet Explorer 10-11 */\n              color: rgb(171, 171, 171);\n          }\n          ::-ms-input-placeholder { /* Microsoft Edge */\n              color: rgb(171, 171, 171);\n          }\n          .saved-searches {\n            display: none;\n            position: relative;\n          }\n          .mobile-search-button {\n            display: flex;\n            margin-right: 8px;\n            \n          }\n          .mobile-search-btn-wrapper {\n            display: flex;\n            height: 40px;\n            align-items: center;\n            -webkit-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            -moz-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n            box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n          }\n          @media all and (min-width: 376px) {\n            .search-icon {\n              display: flex;\n              margin: 0 12px;\n            }\n            input {\n              padding: 0;\n            }\n            .mobile-search-button {\n              display: none;\n            }\n            .saved-searches {\n              display: flex;\n              color: rgb(64 102 149);\n              margin-right: 24px;\n              padding: 5px;\n              min-width: 61px;\n              border-bottom: 1px solid rgb(64 102 149);\n              font: 600 0.938em system-ui;\n              -webkit-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              -moz-box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              box-shadow: -16px 0px 15px -3px rgba(255,255,255,1);\n              cursor: pointer;\n            }\n            .input-wrapper {\n              margin-right: 32px;\n            }\n          }\n        `}\n        </style>\n      </div>      \n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  searchTerm: state.search.searchTerm,\n  savedSearch: state.search.savedSearchToggle,\n})\n\nexport default connect(mapStateToProps)(SearchPrimary);\n\n\n// WEBPACK FOOTER //\n// ./components/SearchPrimary.js"],"sourceRoot":""}